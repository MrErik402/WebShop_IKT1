<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    


    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

	
    <link rel="stylesheet" href="./Styles/output.css">
    <link rel="stylesheet" href="./Styles/double-range.css">
    
    <link href="https://cdn.jsdelivr.net/npm/swiper@8.0.6/swiper-bundle.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@swiper/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@swiper/swiper-bundle.min.css"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8.0.6/swiper-bundle.min.js"></script>

    
    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>




    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />

    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
    <title>Társas estek - Rólunk</title>
</head>

<body class="bg-tarsas1-light dark:bg-tarsas4-dark h-screen flex flex-col" onload="updateCartNumber()">
   
    <div class="popUp hidden  fixed top-0 right-0 max-w-xs bg-[#D5B4B4] z-50 h-screen overflow-y-hidden">
        <div onClick="closePopUp()" class=" text-center hover:cursor-pointer max-w-10 h-6 p-1 relative left-0">
            <img src="../Pictures/x-Kosar.png" />
        </div>
        <div class="innerContent  overflow-y-scroll h-full w-full px-4 pt-2 pb-8">
                <div class="flex flex-col items-center mx-auto">
                    <img class="w-20" src="../Pictures/popupshoppingcart.png" alt="">
                    <h1 class="pt-2">Összesen</h1>
                    <h1 class="pt-1 pb-4 font-bold" id="finalPrice">0$</h1>
                    <button onClick="closePopUp(true)" class="fizetes ring-1 max-w-screen-lg w-full ring-gray-400 p-1 bg-[#867070] text-white rounded-md">
                        Fizetés
                    </button>
                    <div class="kosarbanLevoTermekek mt-5 flex flex-col gap-2">
                        
                    </div>
                </div>
        </div>
    </div>

    <div id="tartalom" class="px-8 py-16">
        <div id="bemutatkozas" class="flex flex-wrap w-full lg:flex-nowrap gap-4 mb-6 text-tarsas4-light bg-tarsas2-light dark:bg-tarsas3-dark dark:text-tarsas1-dark rounded-xl p-4">
            <div id="bemutatkozasSzoveg" class="w-full lg:w-2/5">
                <p class="text-4xl font-bold mb-3 text-center">Társas estek</p>
                <p class="text-2xl font-bold text-center mb-3">Játékok és Airsoft Kiegészítők Minden Korosztálynak</p>
                <p class="font-bold text-justify">Kínálatunkban mindent megtalálsz, ami szükséges egy jó társasjáték esthez, vagy a legújabb airsoft felszereléshez, hogy garantált szórakozást nyújtsunk minden vásárlónknak.</p>
            </div>
            <div id="celjaink" class="font-bold w-full lg:w-3/5 flex flex-col lg:flex-row lg:flex-wrap lg:justify-between gap-4">
                <div class="text-4xl font-bold text-center lg:w-full lg:text-start">Célunk:</div>
                <div class="bg-tarsas3-light dark:bg-tarsas4-dark rounded-xl px-6 py-2 lg:w-[30%]">
                    <p class="font-bold text-2xl">1.</p>
                    <p class="dark:text-tarsas1-dark">Izgalmas és szórakoztató termékeket biztosítani minden korosztály számára.</p>
                </div>
                <div class="bg-tarsas3-light dark:bg-tarsas4-dark rounded-xl px-6 py-2 lg:w-[30%]">
                    <p class="font-bold text-2xl">2.</p>
                    <p class="dark:text-tarsas1-dark">Kínálatunkkal élményeket nyújtani a gyerekeknek és felnőtteknek egyaránt.</p>
                </div>
                <div class="bg-tarsas3-light dark:bg-tarsas4-dark rounded-xl px-6 py-2 lg:w-[30%]">
                    <p class="font-bold text-2xl">3.</p>
                    <p class="dark:text-tarsas1-dark">Garantálni a szórakozást a társasjátékok és airsoft felszerelések széles választékával.</p>
                </div>
            </div>
        </div>
        <div id="csapatunk" class="bg-tarsas2-light dark:bg-tarsas3-dark dark:text-tarsas1-dark rounded-xl p-4 flex flex-col gap-8 lg:flex-row lg:flex-wrap lg:justify-between">
            <p class="text-4xl text-center font-bold text-tarsas4-light dark:text-tarsas1-dark lg:w-full">Fejlesztő csapatunk</p>
            <div class="bg-tarsas3-light dark:bg-tarsas4-dark rounded-xl p-8 flex flex-col gap-4 lg:w-1/4">
                <img src="../Pictures/Rolunk/placeholderKep.png" alt="" class="self-center">
                <p class="text-2xl font-bold text-center">Nagyapáti Szilárd</p>
                <p class="text-justify">Szilárd kreatív látásmóddal és precíz tervezési érzékkel alakítja ki a Társas estek oldalának vizuális megjelenését. Munkájával biztosítja, hogy a felhasználók könnyedén navigálhassanak az oldalon, miközben vonzó és modern dizájnt élvezhetnek minden eszközön.</p>
            </div>
            <div class="bg-tarsas3-light dark:bg-tarsas4-dark rounded-xl p-8 flex flex-col gap-4 lg:w-1/4">
                <img src="../Pictures/Rolunk/placeholderKep.png" alt="" class="self-center">
                <p class="text-2xl font-bold text-center">Dóczi Adrián</p>
                <p class="text-justify">Adrián több mint 8 éves tapasztalattal rendelkezik a webfejlesztés területén. Fő szakterülete a reszponzív, felhasználóbarát weboldalak készítése, melyek garantáltan zökkenőmentes élményt nyújtanak. A Társas estek oldalán ő felelős a funkcionalitásért és a gördülékeny vásárlói élményért.</p>
            </div>
            <div class="bg-tarsas3-light dark:bg-tarsas4-dark rounded-xl p-8 flex flex-col gap-4 lg:w-1/4">
                <img src="../Pictures/Rolunk/placeholderKep.png" alt="" class="self-center">
                <p class="text-2xl font-bold text-center">Bujáki Erik</p>
                <p class="text-justify">Erik a weboldal frontend fejlesztésének szakértője, aki felelős az oldal interaktív elemeinek megvalósításáért. Ő gondoskodik arról, hogy a látogatók gyorsan és könnyedén hozzáférjenek a termékekhez, miközben a felhasználói élmény mindig zökkenőmentes és dinamikus marad.</p>
            </div>
        </div>
    </div>

    <div class="footer"></div>

    <script src="./Javascript/Products/Products.js"></script>
    <script src="./Javascript/Cart/Cart.js"></script>
    <script src="../Components/Navbar.js"></script>
    <script src="../Components/Footer.js"></script>

    
    <script>
        window.popUp = function() {
            document.querySelector(".kosarbanLevoTermekek").innerHTML = ``;
            document.querySelector(".popUp").classList.remove("hidden");
    
            let sum = 0;
    
            if (cart.length == 0) {
                document.querySelector("#finalPrice").textContent = 0 + " Ft";
            }
    
            cart.forEach(value => {
                let id = value.id;
                let quantity = Number(value.quantity);
                let image = value.img;
                let ar = Number(value.ar);
                let formattedAr = new Intl.NumberFormat('hu-HU', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                }).format(ar).replace(/\s/g, '\u00A0');
                let nev = value.nev;
    
                sum += ar * quantity;
    
                document.querySelector("#finalPrice").textContent = new Intl.NumberFormat('hu-HU', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                }).format(sum).replace(/\s/g, '\u00A0') + " Ft";
    
                document.querySelector(".kosarbanLevoTermekek").innerHTML += `
                    <div class="ring-1 ring-black/30">
                        <div class="flex flex-col item-container" data-id="${id}">
                            <img class="p-2 min-w-24 w-full max-w-24 h-full max-h-24 min-h-24 self-center" src="${image}" alt="">
                            <h1 class="pt-2 px-1 font-thin">${nev}</h1>
                            <div class="flex gap-2 justify-between px-1 pb-2">
                                <h1 class="text-right float-right font-medium">${formattedAr} Ft</h1>
                                <input onChange="inputChange(${id}, Number(this.value))" min="0" type="number" value="${quantity}" class="w-8 bg-white/50" />
                            </div>
                            <button class="hover:ring-1 ring-black/20 remove-item p-1 m-1 rounded-lg text-white bg-[#867070]">Eltávolítás</button>
                        </div>
                    </div>
                `;
            });
    
            // "x" gomb event listener
            document.querySelectorAll(".remove-item").forEach(btn => {
                btn.addEventListener("click", (e) => {
                    const id = parseInt(e.target.closest(".item-container").getAttribute("data-id"));
                    console.log(id);
                    if (confirm("⚠FIGYELEM RENDSZERÜZENET⚠\n\nEltávolítsuk ezt a tárgyat a kosaradból?")) {
                        removeThisItem(id, cart);
                    }
                });
            });
        };
    
        
    window.closePopUp = function(fizetes = false){
        document.querySelector(".kosarbanLevoTermekek").innerHTML = ``;
        document.querySelector(".popUp").classList.add("hidden");
        if (fizetes) {
            window.location.href = "./fizetes.html";
        }
    }
    
    window.inputChange = function (id, num){
    
        if(num < 0){
            num = 1;
        }
        else if(num == 0){
            if(confirm("⚠FIGYELEM RENDSZERÜZENET⚠\n\nBiztosan törölni szeretnéd a terméket a kosaradból?")){
                removeThisItem(id);
            }
            else{
                num = 1;
            }
        }
    
        const index = cart.findIndex(product => product.id === id)
        cart[index].quantity = num
        saveTheCart();
        updateCartNumber();
        popUp();
        getCartItems();
    }
    
    
        </script>
</body>

</html>